define(["jumi","isLogin","isLoginwx","vue","weixin"],function(e,t,s,a,d){var n=localStorage.getItem("token"),o={token:n,requestSource:"WAP"};t(function(){$.ajax({type:"post",url:"/userCenter/setting/getUserAddress",dataType:"json",data:o,success:function(t){"0000"==t.code&&new a({el:"body",components:{"my-address":{template:"#addressTemplate",data:function(){return{data:t.data,addressList:t.data.addressList}},methods:{setDefault:function(t,s){var a=this,d={addressId:t,isUse:s,requestSource:"WAP",token:n};$.ajax({type:"post",url:"/userCenter/setting/updateIsUse",data:d,dataType:"json",success:function(t){"0000"==t.code?(a.data=t,e.tips("修改成功！"),location.reload()):e.tips(t.msg)}})},editAddress:function(e){location.href="addressEdit.html?address_id="+e},createAddress:function(){location.href="addressCreate.html"},delAddress:function(t){var s=this,a={addressId:t,requestSource:"WAP",token:n};e.alert({skin:"ui-dialog-bankcard",content:"确认删除？",button:[{value:"确认",callback:function(){$.ajax({type:"post",url:"/userCenter/setting/deleteAddress",data:a,dataType:"json",success:function(t){"0000"==t.code?(s.data=t,e.tips("删除成功！"),location.reload()):e.tips(t.msg)}})}},{value:"取消"}]})}}}},ready:function(){$("#myloading").remove(),d.setTitle().setDesc().setImg().setUrl().share()}})}})});var r=location.href.split("?code=")[0],i=location.href.split("?code=")[1];if(i){var c=i.split("&state=")[0];s(c,r)}});