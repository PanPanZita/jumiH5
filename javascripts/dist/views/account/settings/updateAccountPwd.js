define(["jumi","nav","tab","vue","isLogin","md5","weixin"],function(s,t,e,o,r,i,a){var d=localStorage.getItem("token");r(function(){new o({el:"body",components:{"my-updatepwd":{template:"#updatePwdTemplate",data:function(){return{isabled:!0,user_old_password:"",user_new_password:"",user_confirm_password:""}},methods:{toShowHide:function(){var s=/^\S{0}$/,t=/^(?!^[0-9]+$)(?!^[a-zA-Z]+$)[0-9A-Za-z]{6,16}$/,e=s.test(this.user_old_password)||!t.test(this.user_old_password),o=s.test(this.user_new_password)||!t.test(this.user_new_password),r=s.test(this.user_confirm_password)||!t.test(this.user_confirm_password);e||o||r?this.isabled=!0:this.isabled=!1},oldpasswordBlur:function(){var s=/^\S{0}$/;s.test(this.user_old_password)||this.toShowHide()},oldpasswordKeyup:function(){var s=/^\S{0}$/,t=/^\S{6,16}$/;s.test(this.user_old_password)||(t.test(this.user_old_password)||(this.user_old_password=this.user_old_password.substring(0,16)),this.toShowHide())},newpasswordBlur:function(){var t=/^\S{0}$/,e=/^(?!^[0-9]+$)(?!^[a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;if(!t.test(this.user_new_password))return e.test(this.user_new_password)?void this.toShowHide():void s.tips("密码应为6-16位字母和数字组合")},newpasswordKeyup:function(){var s=/^\S{0}$/,t=/^\S{6,16}$/;s.test(this.user_new_password)||(t.test(this.user_new_password)||(this.user_new_password=this.user_new_password.substring(0,16)),this.toShowHide())},confirmpasswordBlur:function(){var t=/^\S{0}$/,e=/^(?!^[0-9]+$)(?!^[a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;if(!t.test(this.user_confirm_password))return e.test(this.user_confirm_password)?void this.toShowHide():void s.tips("密码应为6-16位字母和数字组合")},confirmpasswordKeyup:function(){var s=/^\S{0}$/,t=/^\S{6,16}$/;s.test(this.user_confirm_password)||(t.test(this.user_confirm_password)||(this.user_confirm_password=this.user_confirm_password.substring(0,16)),this.toShowHide())},ok:function(){var t=this,e={password:i(t.user_old_password).toLocaleUpperCase(),newPassword:i(t.user_new_password).toLocaleUpperCase(),confirmPassword:i(t.user_confirm_password).toLocaleUpperCase(),pwdType:"password",token:d,requestSource:"WAP"};$.ajax({url:"/userCenter/setting/updatePasswordOrPayPassword",type:"post",dataType:"json",data:e,success:function(t){"0000"==t.code?s.alert({content:"修改成功，请重新登录！",button:[{value:"确认",callback:function(){r()}}]}):s.tips(t.msg)}})}}}},ready:function(){t.setActiveNav("account"),$("#myloading").remove(),a.setTitle().setDesc().setImg().setUrl().share()}})})});