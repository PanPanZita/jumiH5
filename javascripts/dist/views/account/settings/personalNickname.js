define(["jumi","vue","isLogin","getPara","weixin"],function(e,t,n,i,s){var a=i.get(),o=localStorage.getItem("token");n(function(){new t({el:"body",components:{"my-nickname":{template:"#nicknameTemplate",data:function(){return{user_id:a.user_id,nickname:decodeURI(a.nickname)}},methods:{save:function(){var t=/^\S{0}$/,n=/^[\u0391-\uFFE5\w]+$/,i=/^\S{2,15}$/,s=this.nickname;if(t.test(s))return void e.tips("昵称不能为空！");if(!n.test(s))return void e.tips("昵称不允许特殊字符！");if(!i.test(s))return void e.tips("昵称长度为2-15个字符之间！");var a={nickname:s,token:o,requestSource:"WAP"};$.ajax({type:"post",url:"/userCenter/setting/updateUser",data:a,dataType:"json",success:function(e){"0000"==e.code&&(location.href="/h5/views/account/settings/personal.html")}})}}}},ready:function(){$("#myloading").remove(),s.setTitle().setDesc().setImg().setUrl().share()}})})});