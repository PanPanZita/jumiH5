define(["jumi","vue","getPara","autoHeight","numberboard","isLogin","isLoginwx","md5","weixin"],function(e,r,t,s,i,a,o,n,l){var p=t.get();a(function(){new r({el:"body",components:{"my-passwordreset":{template:"#passwordResetTemplate",data:function(){return{userpwdreal:"",userconfirmpwdreal:""}},methods:{highlight:function(){var e=/^\S{0}$/,r=1==$("#userpwdreal").attr("proving")?1:0,t=1==$("#userconfirmpwdreal").attr("proving")?1:0,s=!e.test(this.userpwdreal)&&!e.test(this.userconfirmpwdreal),i=r&&t;s&&i?$(".button-fill.button.disabled").removeClass("disabled"):$(".button-fill.button").addClass("disabled")},userpwdrealKeyup:function(){var r=/^[0-9]*$/;return r.test(this.userpwdreal)?(6==this.userpwdreal.length?$("#userpwdreal").attr("proving",1):$("#userpwdreal").attr("proving",0),void this.highlight()):($("#userpwdreal").attr("proving",0),void e.tips("支付密码格式错误！"))},userconfirmpwdrealKeyup:function(){var r=this.userconfirmpwdreal.length;6==r?this.userconfirmpwdreal==this.userpwdreal?$("#userconfirmpwdreal").attr("proving",1):($("#userconfirmpwdreal").attr("proving",0),e.tips("两次新密码输入不一致")):$("#userconfirmpwdreal").attr("proving",0),this.highlight()},ok:function(){var r={phone:p.phone,password:n(this.userpwdreal).toLocaleUpperCase(),confirmPassword:n(this.userconfirmpwdreal).toLocaleUpperCase(),pwdType:"paypassword",requestSource:"WAP"};$.ajax({url:"/common/getBackPassword",type:"post",dataType:"json",data:r,success:function(r){"0000"==r.code?e.alert({title:"聚小米提醒您",content:"找回支付密码成功~",button:[{value:"知道了",callback:function(){location.href="/h5/views/account/settings/safe.html"}}]}):e.tips(r.msg)},error:function(e){console.log(e)}})}}}},ready:function(){$("#myloading").remove(),s.setHeight(),i.init("userpwdreal"),i.init("userconfirmpwdreal"),l.setTitle().setDesc().setImg().setUrl().share()}})});var d=location.href.split("&code=")[0],u=location.href.split("&code=")[1];if(u){var c=u.split("&state=")[0];o(c,d)}});