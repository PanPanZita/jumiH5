define(["jumi","nav","asyncload","vue","getPara","isLogin","md5","weixin"],function(a,t,n,e,r,i,d,s){var c=(r.get(),localStorage.getItem("token")),o={token:c,requestSource:"WAP"};i(function(){$.ajax({url:"/userCenter/userAccount/initOpenAccountOrBindCard",type:"post",dataType:"json",data:o,success:function(n){"0000"==n.code&&new e({el:"body",data:function(){return{data:n,realname:n.data.realname,idNumber:n.data.idNumber,backcardList:n.data.bankList,bankcard:"",paypassword:"",originOrderNo:"",clickstatus:!0}},methods:{highlight:function(){var a=/^\S{0}$/,t=1==$("#bankcard").attr("proving")?1:0,n=!a.test(this.bankcard),e=t;n&&e?$(".button-fill.button.disabled").removeClass("disabled"):$(".button-fill.button").addClass("disabled")},supportBankcard:function(){a.alert({title:"支持绑定的银行卡",content:document.getElementById("bankcardListBox"),button:!1})},bankcardKeyup:function(t){var n=/^[\d ]*$/,e="",r="";if(!n.test(this.bankcard))return $("#userpwdreal").attr("proving",0),void a.tips("请输入有效的银行卡号！");this.bankcard.length>16?$("#bankcard").attr("proving",1):$("#bankcard").attr("proving",0);for(var i=0;i<this.bankcard.length;i++)r=this.bankcard.substr(i,1),isNaN(r)||" "==r||(e+=r);this.bankcard="";for(var i=0;i<e.length;i++)6==i&&(this.bankcard=this.bankcard+" "),12==i&&(this.bankcard=this.bankcard+" "),this.bankcard=this.bankcard+e.substr(i,1);this.highlight()},next:function(){var t=this,n=t.bankcard.replace(/[ ]/g,""),e={bankCardId:n,token:c,requestSource:"WAP"};a.alert({title:"温馨提示",content:"<div>  <p>1.实名认证是验证您所绑定的银行账户是否属于您本人，确保您的资金安全，账户中的资金只能被提现到您本人的银行卡中。</p>  <p>2.您在绑定银行卡的过程中，为了确保您与第三方监管平台已成功建立资金保障关系，会向您的聚米账户充值1元，充值金额您可正常使用，请您放心！</p></div>",button:[{value:"知道了",callback:function(){$.ajax({url:"/userCenter/userAccount/bindCard",type:"post",dataType:"json",data:e,success:function(t){"0000"==t.code?($("#payForm").attr("action",t.data.rechargeUrl),$("#req_data").val(t.data.reqData),document.getElementById("payForm").submit()):a.tips(t.msg)}})}}]})}},ready:function(){t.setActiveNav("account"),$("#myloading").remove(),$("img.async").asyncload(),s.setTitle().setDesc().setImg().setUrl().share()}})}})})});