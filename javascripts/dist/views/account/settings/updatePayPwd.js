define(["jumi","nav","vue","numberboard","isLogin","isLoginwx","md5","weixin"],function(r,e,t,i,a,s,o,n){var l=localStorage.getItem("token");a(function(){new t({el:"body",components:{"my-updatepaypwd":{template:"#updatePayPwdTemplate",data:function(){return{userpwdrealoriginal:"",userpwdreal:"",userconfirmpwdreal:""}},methods:{highlight:function(){var r=/^\S{0}$/,e=1==$("#userpwdrealoriginal").attr("proving")?1:0,t=1==$("#userpwdreal").attr("proving")?1:0,i=1==$("#userconfirmpwdreal").attr("proving")?1:0,a=!r.test(this.userpwdrealoriginal)&&!r.test(this.userpwdreal)&&!r.test(this.userconfirmpwdreal),s=e&&t&&i;a&&s?$(".button-fill.button.disabled").removeClass("disabled"):$(".button-fill.button").addClass("disabled")},userpwdrealoriginalKeyup:function(){var e=/^[0-9]*$/;return e.test(this.userpwdrealoriginal)?(6==this.userpwdrealoriginal.length?$("#userpwdrealoriginal").attr("proving",1):$("#userpwdrealoriginal").attr("proving",0),void this.highlight()):($("#userpwdrealoriginal").attr("proving",0),void r.tips("支付密码应为6位数字"))},userpwdrealKeyup:function(){var e=/^[0-9]*$/;return e.test(this.userpwdreal)?(6==this.userpwdreal.length?$("#userpwdreal").attr("proving",1):$("#userpwdreal").attr("proving",0),void this.highlight()):($("#userpwdreal").attr("proving",0),void r.tips("支付密码应为6位数字"))},userconfirmpwdrealKeyup:function(){var e=this.userconfirmpwdreal.length;6==e?this.userconfirmpwdreal==this.userpwdreal?$("#userconfirmpwdreal").attr("proving",1):($("#userconfirmpwdreal").attr("proving",0),r.tips("两次新密码输入不一致")):$("#userconfirmpwdreal").attr("proving",0),this.highlight()},ok:function(){var e=this,t={password:o(e.userpwdrealoriginal).toLocaleUpperCase(),newPassword:o(e.userpwdreal).toLocaleUpperCase(),confirmPassword:o(e.userconfirmpwdreal).toLocaleUpperCase(),pwdType:"paypassword",token:l,requestSource:"WAP"};$.ajax({url:"/userCenter/setting/updatePasswordOrPayPassword",type:"post",dataType:"json",data:t,success:function(e){"0000"==e.code?location.href="/h5/views/account/settings/safe.html":r.tips(e.msg)}})}}}},ready:function(){e.setActiveNav("account"),$("#myloading").remove(),i.init("userpwdrealoriginal"),i.init("userpwdreal"),i.init("userconfirmpwdreal"),n.setTitle().setDesc().setImg().setUrl().share()}})});var p=location.href.split("?code=")[0],d=location.href.split("?code=")[1];if(d){var u=d.split("&state=")[0];s(u,p)}});