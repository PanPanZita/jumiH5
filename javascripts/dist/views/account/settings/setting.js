define(["jumi","nav","isLogin","isLoginwx","vue","weixin"],function(t,e,n,o,a,i){var s=localStorage.getItem("token"),c={token:s,requestSource:"WAP"};n(function(){$.ajax({url:"/userCenter/setting/getUserPhone",type:"post",dataType:"json",data:c,success:function(n){"0000"==n.code&&new a({el:"body",components:{"my-setting":{template:"#settingTemplate",data:function(){return{data:n.data}},methods:{toLink:function(){location.href="/h5/views/account/settings/bankcardToBind.html?redirectURL="+location.pathname+location.search},showPhone:function(){t.alert({content:'<p>聚小米提醒您，为了您的账户安全，需修改手机号请联系人工客服：<a href="tel:400-801-4680" class="clr-strike">400-801-4680</a></p>',button:[{value:"返回"}]})},exit:function(){$.ajax({url:"/userCenter/setting/logout",type:"post",dataType:"json",data:c,success:function(t){"0000"==t.code&&(location.href="/h5/views/main/index.html")}})}},filters:{phoneStr:function(t){return t.substring(0,3)+"****"+t.substring(7)}}}},ready:function(){e.setActiveNav("account"),$("#myloading").remove();var t=location.href.split("?code=")[0],n=location.href.split("?code=")[1];if(n){var a=n.split("&state=")[0];o(a,t)}i.setTitle().setDesc().setImg().setUrl().share()}})}})});var r=location.href.split("?code=")[0],l=location.href.split("?code=")[1];if(l){var u=l.split("&state=")[0];o(u,r)}});