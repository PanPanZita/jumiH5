define(["jumi","regexp","getPara","isLogin","isLoginwx","vue","weixin"],function(i,e,t,s,n,o,a){var r=t.get(),c=localStorage.getItem("token");s(function(){new o({el:"body",components:{"my-address":{template:"#addressTemplate",data:function(){return{username:"",mobile:"",province:"",city:"",address:"",optionProvinces:[],optionCitys:[],isabled:!0}},init:function(){var i=this;$.ajax({url:"/h5/javascripts/selectlinkage/area.js",method:"post",dataType:"json",success:function(e){i.optionProvinces=e.province,i.optionCitys=e.province[0].cities.city}})},methods:{changeProvince:function(){for(key in this.optionProvinces)if(this.province==this.optionProvinces[key].name)for(m in this.optionProvinces[key].cities.city)this.optionCitys=this.optionProvinces[key].cities.city,this.city=this.optionProvinces[key].cities.city[0];this.isAbled()},changeCity:function(){this.isAbled()},toInput:function(){this.isAbled()},isAbled:function(){var i=!e.validate("null",this.username),t=!e.validate("null",this.mobile),s=!e.validate("null",this.province),n=!e.validate("null",this.city),o=!e.validate("null",this.address);i&&t&&s&&n&&o?this.isabled=!1:this.isabled=!0},ok:function(){var t=!e.validate("length","2,8",this.username),s=!e.validate("length","11",this.mobile),n=!e.validate("mobile",this.mobile),o=!e.validate("length","2,50",this.address);if(t)return void i.tips("收件人2-8个字符");if(s)return void i.tips("手机号码长度为11位");if(n)return void i.tips("请输入正确的手机号码");if(o)return void i.tips("地址2-50个字符");var a={userName:this.username,mobile:this.mobile,province:this.province,city:this.city,address:this.address,isUse:0,token:c,requestSource:"WAP"};$.ajax({type:"post",url:"/userCenter/setting/addAddress",dataType:"json",data:a,success:function(i){"0000"==i.code&&(location.href="/h5/views/account/active/cartAddress.html?orderId="+r.orderId)}})}}}},ready:function(){$("#myloading").remove(),a.setTitle().setDesc().setImg().setUrl().share()}})});var d=location.href.split("&code=")[0],l=location.href.split("&code=")[1];if(l){var h=l.split("&state=")[0];n(h,d)}});