define(["jumi","nav","tab","vue","getPara","scrolltotop","isLogin","isLoginwx","asyncload","weixin","load"],function(e,t,a,s,i,n,o,l,r,c,u){var d=localStorage.getItem("token"),p=i.get(),h={currentPage:1,pageSize:10,token:d,requestSource:"WAP"};if(p.from)var g=location.href.split("&code=")[1];else var g=location.href.split("?code=")[1];if(g){var y=g.split("&state=")[0];l(y,"/h5/views/account/invest/invest.html")}else o(function(){$.ajax({url:"/userCenter/investBill/getInvestBillList",type:"post",dataType:"json",data:h,success:function(a){"0000"==a.code&&new s({el:"body",components:{"my-invest":{template:"#investTemplate",data:function(){return{currentPageRepay:1,statusCash:0,timeType:0,up:!0,repayBillList:{items:a.data.repayBillList,currentPage:1,pageSize:10,isLoading:0},noRepayBillList:{items:a.data.noRepayBillList,currentPage:1,pageSize:10,isLoading:0},getHbList:[],isShow:!1,shareIntroducer:"",shareItemname:""}},methods:{selectProfitInit:function(){var e=this,t={token:d,pageSize:10,currentPage:1,costType:1,statusCash:e.statusCash,timeType:e.timeType,requestSource:"WAP"};$.ajax({url:"/userCenter/investBill/getInvestBillList",type:"post",dataType:"json",data:t,success:function(t){"0000"==t.code&&(null!=t.data&&null!=t.data.repayBillList&&t.data.repayBillList.length>0?e.repayBillList.items=t.data.repayBillList:e.repayBillList.items="")}})},statusChoice:function(e){this.currentPageRepay=1,$("#loadMoreButton1").html('<i class="iconfont">&#xe65d;</i> <span>上拉刷新数据</span>'),this.statusCash=e,this.selectProfitInit()},sortChoice:function(e){this.currentPageRepay=1,$("#loadMoreButton1").html('<i class="iconfont">&#xe65d;</i> <span>上拉刷新数据</span>'),0==e?(this.timeType=0,$("#paymentTime").removeClass("sortSelected")):1==e&&this.up?(this.timeType=1,this.up=!1,$("#paymentTime").addClass("sortSelected")):1!=e||this.up||(this.timeType=2,this.up=!0,$("#paymentTime").addClass("sortSelected")),this.selectProfitInit()},showInfo:function(t){$.ajax({url:"/userCenter/investBill/getDescr",type:"post",data:{id:t,requestSource:"WAP",token:d},dataType:"json",success:function(t){e.alert({title:"回报内容",content:t.data,button:[{value:"知道了"}]})}})},shareRedpacket:function(e){var t=this;$("#hbMask").removeClass("hidden"),$("#cashDialog").removeClass("hidden");var a={gearId:e,requestSource:"WAP",token:d};$.ajax({url:"/hongbao/cashHongbao/getGearShareRecordList",type:"post",data:a,dataType:"json",success:function(e){t.getHbList=e.data}})},closeDialog:function(){$("#hbMask").addClass("hidden"),$("#cashDialog").addClass("hidden")},getShare:function(e){var t=this,a={investBillId:e,requestSource:"WAP",token:d};$.ajax({url:"/hongbao/cashHongbao/shareUserReceiveHongbao",type:"post",data:a,dataType:"json",success:function(e){t.shareIntroducer=e.data.shareIntroducer,t.shareItemname=e.data.itemName,$("#cashDialog").addClass("hidden"),t.isShow=!0,c.setTitle(e.data.shareTitle).setDesc(e.data.shareContent).setImg(e.data.shareImageUrl).setUrl(e.data.shareLinkUrl).share()}})},closeDialoghb:function(){$("#hbMask").addClass("hidden"),this.isShow=!1},goOrderpage:function(e){location.href="/h5/views/account/active/activeDetail.html?orderId="+e}}}},ready:function(){var e=this;t.setActiveNav("account"),$("#myloading").remove(),u.pullup({el:"#tabs1",button:"#loadMoreButton1",callback:function(t){var a=e.$children[0];a.currentPageRepay++;var s={token:d,pageSize:10,currentPage:a.currentPageRepay,costType:1,statusCash:a.statusCash,timeType:a.timeType,requestSource:"WAP"};$.ajax({url:"/userCenter/investBill/getInvestBillList",type:"post",dataType:"json",data:s,success:function(e){if("0000"==e.code)if(null!=e.data&&null!=e.data.repayBillList&&e.data.repayBillList.length>0){for(var s=0;s<e.data.repayBillList.length;s++)a.repayBillList.items.push(e.data.repayBillList[s]);setTimeout(function(){$(".async").asyncload()},0),t.isLoading=0}else t.isLoading=2,$(t.button).html("-- 我已倾囊相授 --")}})}}),u.pullup({el:"#tabs2",button:"#loadMoreButton2",callback:function(t){var a=e.$children[0];t.currentPage++;var s={token:d,costType:0,pageSize:10,currentPage:t.currentPage,requestSource:"WAP"};$.ajax({url:"/userCenter/investBill/getInvestBillList",type:"post",dataType:"json",data:s,success:function(e){if("0000"==e.code)if(null!=e.data&&null!=e.data.noRepayBillList&&e.data.noRepayBillList.length>0){for(var s=0;s<e.data.noRepayBillList.length;s++)a.noRepayBillList.items.push(e.data.noRepayBillList[s]);setTimeout(function(){$(".async").asyncload()},0),t.isLoading=0}else t.isLoading=2,$(t.button).html("-- 我已倾囊相授 --")}})}})}})}})})});