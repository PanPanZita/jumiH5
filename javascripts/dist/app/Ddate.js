define(["jquery","exports","module"],function(e,t,a){var i={_setting:{year:"",month:"",callback:$.noop()},init:function(e){this.callback=e.callback,document.querySelector(e.trigger).addEventListener("click",this._create)},_create:function(){i._setting.year="",i._setting.month="",null!=document.querySelector(".DdateBox")&&i._removeNode();var e=document.createElement("div");e.className="DdateBox",e.innerHTML='<div class="Dcontent"></div><div class="Dbutton"><a href="javascript:void(0)" id="cancelButton">取消</a><a href="javascript:void(0)" id="okButton">搜索</a></div>',document.querySelector("body").appendChild(e),i._createDate();var t=document.querySelector("#cancelButton");t.addEventListener("click",i._removeNode);var a=document.querySelector("#okButton");a.addEventListener("click",i._search),i._select()},_removeNode:function(){var e=document.querySelector(".DdateBox");document.querySelector("body").removeChild(e),console.log("removeNode")},_search:function(){i._removeNode(),i.callback({year:i._setting.year,month:i._setting.month}),console.log(i._setting.year),console.log(i._setting.month),console.log("search")},_select:function(){var e=$(".Dmonth");e.click(function(){e.parent().removeClass("active"),$(this).parent().addClass("active"),i._setting.year=$(this).parents(".Ditem").find(".Dtitle").text().substring(4,0),i._setting.month=$(this).text()})},_createDate:function(){for(var e="",t=new Date,a=t.getFullYear(),i=5,o=0;o<i;o++)e+='<div class="Ditem"><div class="Dtitle">'+(2014+o)+'年</div><ul class="Dlist"><li><a href="javascript:void(0)" class="Dmonth">1</a></li><li><a href="javascript:void(0)" class="Dmonth">2</a></li><li><a href="javascript:void(0)" class="Dmonth">3</a></li><li><a href="javascript:void(0)" class="Dmonth">4</a></li><li><a href="javascript:void(0)" class="Dmonth">5</a></li><li><a href="javascript:void(0)" class="Dmonth">6</a></li><li><a href="javascript:void(0)" class="Dmonth">7</a></li><li><a href="javascript:void(0)" class="Dmonth">8</a></li><li><a href="javascript:void(0)" class="Dmonth">9</a></li><li><a href="javascript:void(0)" class="Dmonth">10</a></li><li><a href="javascript:void(0)" class="Dmonth">11</a></li><li><a href="javascript:void(0)" class="Dmonth">12</a></li></ul></div>';$(".Dcontent").html(e),console.log(t),console.log(a)}};a.exports=i});