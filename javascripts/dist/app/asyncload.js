define(["jquery"],function(n){!function(n){n.fn.asyncload=function(t){var o={attr:"data-src",container:n(window),callback:n.noop},c=n.extend({},o,t||{});c.cache=[],n(this).each(function(){var t=this.nodeName.toLowerCase(),o=n(this).attr(c.attr),a={obj:n(this),tag:t,url:o};c.cache.push(a)});var a=function(t){n.isFunction(c.callback)&&c.callback.call(t.get(0))},i=function(){var t=c.container.height();c.container.get(0)===window?contop=n(window).scrollTop():contop=c.container.offset().top,n.each(c.cache,function(n,o){var c,i,e=o.obj,r=o.tag,l=o.url;e&&(c=e.offset().top-contop,i=c+e.height(),(c>=0&&c<t||i>0&&i<=t)&&(l?"img"===r?a(e.attr("src",l)):e.load(l,{},function(){a(e)}):a(e),o.obj=null))})};i(),c.container.bind("scroll",i)}}(jQuery),n(function(){n("img.async").asyncload()})});